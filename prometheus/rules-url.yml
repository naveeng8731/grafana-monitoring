groups:
  - name: url-monitor
    rules:
      - alert: URLDown
        expr: probe_success == 0
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "URL {{ $labels.instance }} is DOWN"
          description: "The monitored URL {{ $labels.instance }} is not reachable (probe_success=0)."

      - alert: SSLCertExpiringSoon
        expr: (probe_ssl_earliest_cert_expiry - time()) < 86400 * 7
        for: 1h
        labels:
          severity: warning
        annotations:
          summary: "SSL certificate for {{ $labels.instance }} expires soon"
          description: "SSL certificate will expire in less than 7 days."
